

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>7.4. The bootstrap &#8212; Introduction to Statistics and Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'bootstrap_TheBootstrap';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="7.6. Tutorial Exercises" href="bootstrap_TutorialExercises1.html" />
    <link rel="prev" title="7.3. Sampling with and without replacement" href="bootstrap_samplingIntro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/dice.jpg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/dice.jpg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="prepwork_intro.html">1. Preparatory Work</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="prepwork_datacamp.html">1.2. Datacamp</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_forloop.html">1.3. The <tt>for</tt> loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_diceroll_for.html">1.4. Rolling a virtual dice I</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_diceroll_while.html">1.5. Rolling a virtual dice II</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_simExercises.html">1.6. Simulation Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="descriptives_intro.html">2. Describing data</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="descriptives_outcomes.html">2.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_conceptCheck.html">2.3. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_MeanAndMedian.html">2.4. Mean and Median</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_SDandIQR.html">2.5. Standard deviation and IQR</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_DataCleaning.html">2.6. Data cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_groupby.html">2.7. Grouping data</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_PythonCheck.html">2.8. Python skills check</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_TutorialExercises.html">2.9. Tutorial exercises I</a></li>

<li class="toctree-l2"><a class="reference internal" href="descriptives_TutorialExercisesII.html">2.11. Tutorial Exercises II - optional</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="plotting_intro.html">3. Plotting Data</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="plotting_outcomes.html">3.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_histogram.html">3.3. Histogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_KDE.html">3.4. KDE plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_boxplot.html">3.5. Boxplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_scatterplot.html">3.6. Scatterplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_pandas.html">3.7. Plotting with Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_tweaks.html">3.8. Tweaking plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_additionalMaterials.html">3.9. More resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_TutorialExercises.html">3.10. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="CorrCov_intro.html">4. Correlation and Covariance</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_outcomes.html">4.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_conceptCheck.html">4.3. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_introCorrCov.html">4.4. Covariance and Correlation</a></li>

<li class="toctree-l2"><a class="reference internal" href="CorrCov_ClimateExample.html">4.6. Climate example</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_Spearman.html">4.7. Spearman’s Rank Correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_PythonCheck.html">4.8. Python skills check</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_TutorialExercises.html">4.9. Tutorial Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_HandInAssignment.html">4.10. Hand-in Assignment</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="binomial_overallIntro.html">5. Data generating distributions</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="binomial_intro.html">5.1. The Binomial Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_objectives.html">5.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_singlecoin.html">5.3. Simulated coin toss</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_10000reps.html">5.4. Repeat the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_nandp.html">5.5. Changing $n$ and $p$</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_PMFandCDF.html">5.6. Binomial PMF and CDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_normal.html">5.7. Normal distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_PythonCheck.html">5.8. Python skills check</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_TutorialExercises1.html">5.9. Tutorial Exercises I</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_TutorialExercises2.html">5.10. Tutorial Exercises II</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="CLT_intro.html">6. The Central Limit Theorem</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="CLT_outcomes.html">6.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="CLT_sampling.html">6.3. Central Limit Theorem</a></li>

<li class="toctree-l2"><a class="reference internal" href="CLT_CI.html">6.5. Estimating the sampling distribution <i>from a sample</i></a></li>

<li class="toctree-l2"><a class="reference internal" href="CLT_TutorialExercises.html">6.7. Tutorial exercises I: The Central Limit Theorem</a></li>


<li class="toctree-l2"><a class="reference internal" href="CLT_Tutorial2tdist.html">6.10. Tutorial Exercises II: the $t$ distribution</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="bootstrapping_intro.html">7. The Bootstrap</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bootstrap_outcomes.html">7.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap_samplingIntro.html">7.3. Sampling with and without replacement</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">7.4. The bootstrap</a></li>

<li class="toctree-l2"><a class="reference internal" href="bootstrap_TutorialExercises1.html">7.6. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Assignment_intro.html">8. Christmas vacation assignment</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="IMDb_exercise.html">8.1. Movie data</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Cheatsheet_intro.html">9. Python Cheatsheet</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="coding_cheatsheet.html">9.1. Coding support sheet</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="permutation_intro.html">10. Permutation Testing</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="permutation_outcomes.html">10.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_technicalnote.html">10.3. Sort out <code class="docutils literal notranslate"><span class="pre">scipy.stats</span></code> version</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_paired.html">10.4. Permutation test for paired data</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_independentSamples.html">10.5. Permutation test for unpaired or independent samples data</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_correlation.html">10.6. Permutation test for correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_more.html">10.7. Permutation testing - more practice</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_TutorialExercises.html">10.8. Tutorial exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="classictests_intro.html">11. Classic tests</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="ttest_intro.html">11.3. The t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttest_independentSamples.html">11.4. Independent samples t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttest_pairedSamples.html">11.5. Paired Samples t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttest_oneSample.html">11.6. One sample t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonpara_intro.html">11.7. Non-parametric equivalents of the t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonpara_MannWhitneyU.html">11.8. The Mann Whitney U, or Wilcoxon Rank Sum Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonpara_WilcoxonSignRank.html">11.9. The Wilcoxon Sign-Rank Test</a></li>

<li class="toctree-l2"><a class="reference internal" href="ttest_furtherExercises.html">11.11. Tutorial Exercises: $t$-test and non-parametric equivalents</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="power_intro.html">12. Power analysis</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="power_outcomes.html">12.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_conceptCheck.html">12.3. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_analysis.html">12.4. Sensitivity, power, reproducibility</a></li>




<li class="toctree-l2"><a class="reference internal" href="power_placeholder.html">12.9. Tutorial work and Hand in assignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="CSVreading_instructions.html">12.10. Loading data from a .csv file</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression1_intro.html">13. Regression</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression1_outcomes.html">13.1. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_concepts.html">13.2. Regression Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_interpretingSlope.html">13.3. Interpreting the slope and intercept, prediction and residuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_QandA.html">13.4. Regression, Covariance and Correlation Q&amp;A</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_prepwork.html">13.5. Regression models in Python</a></li>

<li class="toctree-l2"><a class="reference internal" href="regression1_TutorialExercises.html">13.7. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression2_intro.html">14. Multivariate Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression2_concepts.html">14.2. Multivariate Analysis Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression2_typesOfRelationship.html">14.3. Different types of multivariate relationship</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression2_QandA.html">14.4. Multiple Regression Q &amp; A</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression2_TutorialExercises.html">14.5. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression3_intro.html">15. Regression - Statistical Tests</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression3_outcomes.html">15.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_conceptsR2.html">15.3. Model fit: $R^2$</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_conceptsConditionals.html">15.4. Conditional Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_conceptsSignificance.html">15.5. Statistical Significance in Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_assumptions.html">15.6. Assumptions in Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_prepwork.html">15.7. Assessing Regression models in Python.</a></li>

<li class="toctree-l2"><a class="reference internal" href="regression3_TutorialExercises.html">15.9. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression4_intro.html">16. ANOVA</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression4_outcomes.html">16.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_concepts.html">16.3. ANOVA Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_longhandExample.html">16.4. Longhand calculation example</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_equations.html">16.5. ANOVA Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_KWtest.html">16.6. Kruskall-Wallis test</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_ANOVAregression.html">16.7. ANOVA versus Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_prepwork.html">16.8. ANOVA and Kruskal-Wallis in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_TutorialExercises.html">16.9. Tutorial exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression5_intro.html">17. Logistic Regression</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression5_outcomes.html">17.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_concepts.html">17.3. Odds, logs and log odds</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_LogisticEquation.html">17.4. Logistic Regression Equation</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_workedExample.html">17.5. Predicted probabilities (worked example)</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_prepwork.html">17.6. Logistic Regression in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_TutorialExercises.html">17.7. Tutorial exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression6_intro.html">18. Research Design</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression6_outcomes.html">18.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression6_concepts.html">18.3. Research Design Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression6_causality.html">18.4. Causality</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression6_TutorialExercises.html">18.5. Tutorial exercises</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/jillxoreilly/StatsCourseBook/blob/master/bootstrap_TheBootstrap.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jillxoreilly/StatsCourseBook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jillxoreilly/StatsCourseBook/issues/new?title=Issue%20on%20page%20%2Fbootstrap_TheBootstrap.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/bootstrap_TheBootstrap.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>The bootstrap</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">7.4. The bootstrap</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-python-libraries">Set up Python libraries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-sample-as-an-estimate-of-the-population">The sample as an estimate of the population</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-brexdex-data">Import the Brexdex data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">7.5. The Bootstrap</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sampling-distribution-of-the-mean">Sampling distribution of the mean</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sampling-from-a-sample">Sampling from a sample</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-converse">The converse</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#footnote">Footnote</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="the-bootstrap">
<h1><span class="section-number">7.4. </span>The bootstrap<a class="headerlink" href="#the-bootstrap" title="Permalink to this heading">#</a></h1>
<p>Here we introduce the statistical method of bootstrapping, which can be used to obtain a sampling distribution for pretty much any descriptive statistic (most commonly the sample mean), even is sample size $n$ is too small for the central limit theorem to apply and the data distribution is grossly non-normal</p>
<p>“How?” I hear you ask.</p>
<p>Read on</p>
<section id="set-up-python-libraries">
<h2>Set up Python libraries<a class="headerlink" href="#set-up-python-libraries" title="Permalink to this heading">#</a></h2>
<p>As usual, run the code cell below to import the relevant Python libraries</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Set-up Python libraries - you need to run this but you don&#39;t need to change it</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">pandas</span> 
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-sample-as-an-estimate-of-the-population">
<h2>The sample as an estimate of the population<a class="headerlink" href="#the-sample-as-an-estimate-of-the-population" title="Permalink to this heading">#</a></h2>
<p>We have seen that if we draw a sample from some parent distribution, the distribution of data within the sample resembles the parent data distribution - ie the histogram of the sample looks like the histogram of the whole parent distriution.</p>
<p>Let’s recap that using the Brexdex example</p>
<section id="import-the-brexdex-data">
<h3>Import the Brexdex data<a class="headerlink" href="#import-the-brexdex-data" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">UKBrexdex</span><span class="o">=</span><span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/jillxoreilly/StatsCourseBook/main/data/UKBrexdex.csv&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">UKBrexdex</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">101</span><span class="p">),</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;score on BrexDex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[]
</pre></div>
</div>
<img alt="_images/e0e258d06a535a20298a6b0dda7b57299ce2f43184e309766aa6f38ea4e5cfd8.png" src="_images/e0e258d06a535a20298a6b0dda7b57299ce2f43184e309766aa6f38ea4e5cfd8.png" />
</div>
</div>
<p>Let’s draw a few samples from the BrexDex distribution to see how they resemble the parent distribution:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">=</span><span class="mi">20</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">UKBrexdex</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">],</span><span class="n">n</span><span class="p">,</span><span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/602e0943ff430fdce1b0a507049213fdd9ac6104c09e292882a5e0c1ac993171.png" src="_images/602e0943ff430fdce1b0a507049213fdd9ac6104c09e292882a5e0c1ac993171.png" />
</div>
</div>
<p>The match is not too bad.</p>
<p>Let’s go really wild and overlay the KDE plots from 100 samples (of size $n=30$) on the same graph, and add the KDE plot of the parent distribution in red</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">=</span><span class="mi">20</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">UKBrexdex</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">],</span><span class="n">n</span><span class="p">,</span><span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">bw_adjust</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> <span class="c1"># note I manually changed the smoothing of the KDS plot - this is a bit tangential to the point of the exercise though so don&#39;t get distracted by it</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
    
<span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">UKBrexdex</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;score&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/dc58126c66b1a703fb542bdaf22d00d1ce0e2e02a06909343844b1714f12aff8.png" src="_images/dc58126c66b1a703fb542bdaf22d00d1ce0e2e02a06909343844b1714f12aff8.png" />
</div>
</div>
<p>The KDE plots for the samples of size $n=20$ show that the small samples approximate the parent distribution quite well</p>
<p>To put it another way if we were to try and generate 10,000 ‘simulated’ responses on the Brexdex, we could do a decent job by sampling from the KDE distribution of the small $n=20$ sample</p>
</section>
</section>
</section>
<section id="id1">
<h1><span class="section-number">7.5. </span>The Bootstrap<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h1>
<p>Say I have a sample of 20 students’ scores on the Brexdex.</p>
<p>Here is my sample:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">studentSample</span><span class="o">=</span><span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/jillxoreilly/StatsCourseBook/main/data/Brexdex_20students.csv&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">studentSample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;score on BrexDex&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sample mean is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">studentSample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sample mean is 54.75
</pre></div>
</div>
<img alt="_images/c6a9d56e979a92a534f19a137ae5c6bad7a5f5472d5a82f6ce25c092e11fbb9a.png" src="_images/c6a9d56e979a92a534f19a137ae5c6bad7a5f5472d5a82f6ce25c092e11fbb9a.png" />
</div>
</div>
<p>Scores over 50 indicate an attitude against Brexit. My students’ mean score is 54.75.</p>
<p>On the basis of this sample (and assuming the students I sampled are typical of the student population as a whole), how confident can I be that students’ average Brexdex score is over 50?</p>
<p>the question can be <a href='https://en.wiktionary.org/wiki/operationalize'>operationalized</a> as follows:</p>
<p>“if I drew a large number of other samples of sie 20 from the same stuent population, what proportion of the time would the sample mean exceed 50?”. If the proportion is high (say 95%) we conclude that we are confident that students are on average against Brexit.</p>
<p>We need the sampling distribution of the mean!</p>
<section id="sampling-distribution-of-the-mean">
<h2>Sampling distribution of the mean<a class="headerlink" href="#sampling-distribution-of-the-mean" title="Permalink to this heading">#</a></h2>
<p>We saw last week that the probability that if we have access to the population distribution of Brexdex scores, we can establish the sampling distribution of the mean (for sample size $n$) <a href='https://en.wiktionary.org/wiki/empirically'>empirically</a> by:</p>
<ul>
    <li>drawing many samples of size n from the parent distribution (n=10000) 
     <li>calculating the mean for each sample
     <li>plotting them on a histogram. 
</ul>
<p>This will give us the correct sampling distribution of the mean regardless of $n$.</p>
<p>That was a nice demonstration but it was really <i>only</i> a demonstration, as we almost never in real life have access to such a large parent distribution or the whole population.</p>
<p>We are much more likely to be faced with a situation whereby we have a single sample and want to estimate the sampling distribution of the mean - that is the distribution of sample means for hundereds of other samples that <i>we will never have</i></p>
<p>We saw last time that:</p>
<p>– if $n$ is large, we can predict the sampling distribution of the mean as $\mathcal{N}(m,\frac{s}{\sqrt{n}})$,</p>
<p>– if $n$ is small but the data distribution is normal, we can predict the sampling distribution of the mean as $t_{n-1}(m,\frac{s}{\sqrt{n}})$</p>
<p>But here, $n$ is not large enough for the Central Limit Theorem to apply and the data distriubtion is not normal</p>
</section>
<section id="sampling-from-a-sample">
<h2>Sampling from a sample<a class="headerlink" href="#sampling-from-a-sample" title="Permalink to this heading">#</a></h2>
<p>We return to our strategy of establishing the sampling distribution of the mean <a href='https://en.wiktionary.org/wiki/empirically'>empirically</a> - namely by drawing many samples, calculating the mean of each, and plotting a histogram</p>
<p>However, we only have 20 datapoints to sample from, and we need to draw samples of size $n=20$ (we can’t change $n$ as the spread of the sampling distribution of the mean, namely the SEM, depends on $\sqrt{n}$)</p>
<p>We generate these new samples by sampling <i>with replacement</i> <b>from our set of 20 students’ scores</b>. This is process of sampling from a sample is sometimes called <i>resampling</i></p>
<img src= "https://raw.githubusercontent.com/jillxoreilly/StatsCourseBook/main/images/Minion_what.jpg" width="15%"  />
<p>This may seem dodgy, but think of it like this - imagine our 20 students are samples from an infinite or very large population of students whom we could have surveyed, with the same distribution of Brexdex scores as our sample. We are essentially going to reverse engineer that population and sample from it (just like we did last week using the real population Brexdex distribution)</p>
<p>To do this reverse engineering we essentially</p>
<ol>
    <li>fit the KDE to the 20 students' data (which, we have now established, looks a lot like the population KDE)
    <li>use that KDE to generate a huge (infinite?) simulated population of students with the same distribution of Brexdex scores as the 20 students we surveyed
    <li>draw samples of size 20 from that simulated population
        <ul><li>get the mean of each such sample
    <li>plot a histogram of the sample means
        </ul>
</ol>
<p>The only thing is, it turns out that steps 1 and 2 are really well approximated by just drawing samples of $n=20$ with replacement from the original sample of 20 students - so that is what we will do!</p>
<p>Let’s try!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># draw one sample, the same size as the original dataset, from our 2000-students dataset</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">studentSample</span><span class="p">)</span>
<span class="n">sample</span> <span class="o">=</span> <span class="n">studentSample</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s repeat it for a lot of random (re)samples</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a loop to draw 10,000 samples and get the sample mean of each one</span>
<span class="n">nReps</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nReps</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nReps</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">studentSample</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">],</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="c1"># add a vertical line indicating the true population mean 50</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;sample mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a4fdfa78663a13e13600d67fb6692c92d7fcf75cb2b58c4d29747dd8b416173d.png" src="_images/a4fdfa78663a13e13600d67fb6692c92d7fcf75cb2b58c4d29747dd8b416173d.png" />
</div>
</div>
<p>Let’s work out the proportion of the time the simulated sample mean was less than 50:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">m</span><span class="o">&lt;</span><span class="mi">50</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="n">studentSample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>54.75
</pre></div>
</div>
</div>
</div>
<p>Hm, about 18% of the time the sample mean was actually below 50 - I don’t think our dataset of 20 students gives overwhelming evidence that the student population are on average against Brexit</p>
</section>
<section id="the-converse">
<h2>The converse<a class="headerlink" href="#the-converse" title="Permalink to this heading">#</a></h2>
<p>Just for comparison (and this is cheating because as I said, we wouldn’t normally have access to the population distribution), let’s try simulating the sampling distribution of the mean by drawing samples from the UK population distribution.</p>
<p>We expect the distribution of sample means drawn from the parent population to be centred around the population mean score (50), but we may ask how often we get a sample mean as high as the one in our 20-students dataset (54.75):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a loop to draw 10,000 samples andget the sample mean of each one</span>
<span class="n">nReps</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nReps</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nReps</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">UKBrexdex</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">54.75</span><span class="p">,</span><span class="mf">54.75</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">],</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="c1"># add a vertical line indicating the mean of our 20-students dataset</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;sample mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4e6cdd2bffd1a51da165cb4e715ebeade429a81cabaa1f973ba9a6f2d745d88e.png" src="_images/4e6cdd2bffd1a51da165cb4e715ebeade429a81cabaa1f973ba9a6f2d745d88e.png" />
</div>
</div>
<p>The sampling distribution is centred on the population mean of the Brexdex (50) rather than on the mean of the 20-students dataset.</p>
<p>However, there is a rather interesting relationship between the two sampling distributions:</p>
<p>The chance of getting a sample mean as high as the mean of our 20-students sample $(m=54.75)$, when sampling from the original Brexdex population, is 18.65%</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">m</span><span class="o">&gt;</span><span class="n">studentSample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.1883
</pre></div>
</div>
</div>
</div>
<p>That exactly matches the probability of getting a sample mean below the UK Brexdex mean, based on our bootstrapped sampling distribution.</p>
<p>Let’s look at the two sampling distributions together and compare:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bootstrap</span>
<span class="n">nReps</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">m1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nReps</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nReps</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">studentSample</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">m1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">],</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="c1"># add a vertical line indicating the mean of our population</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;sample mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span><span class="mi">70</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;bootstrap from 20 students&#39;</span><span class="p">)</span>

<span class="c1"># sample from population (UKBrexdex)</span>
<span class="n">nReps</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nReps</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nReps</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">UKBrexdex</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">m2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">sample</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">m2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">54.75</span><span class="p">,</span><span class="mf">54.75</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">],</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="c1"># add a vertical line indicating the mean of our 20-students dataset</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;sample mean&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span><span class="mi">70</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;sample from the true population&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/dcb8dfdcc9922c9c40763f2add9169d32415d618dda7d7f0e83fb66dfda1582a.png" src="_images/dcb8dfdcc9922c9c40763f2add9169d32415d618dda7d7f0e83fb66dfda1582a.png" />
</div>
</div>
<p>The two sampling distributions have the same spread, such that the probability of a sample mean exceeding the mean of the 20-students dataset $(m=54.75)$, when sampling from the population (true mean $\mu=50$) is the same as the probability of a sample mean less than 50, when resampling from the 200-students dataset (sample mean = 54.75)</p>
<p>Ta-daaaaa! A little piece of bootstrap magic.</p>
</section>
<section id="footnote">
<h2>Footnote<a class="headerlink" href="#footnote" title="Permalink to this heading">#</a></h2>
<img src="images/bootstrap.png" width="50%"  /><p>The term ‘bootstrap’ was coined by the inventor of the technique, Professor Bradley Efron, in his 1982 monograph “The Jackknife, the Bootstrap, and Other Resampling Plans”.</p>
<p>The term refers to the apparent impossibility of drawing variable samples from a dataset when the sample sie much match the sie of the dataset (the problem we tackled above) - resampling from the sample is like pulling yourself up by your own bootstraps.</p>
<p>Efron has the following to say about the advantages of the approach:</p>
<i>
"The jackknife and the bootstrap are nonparametric methods for assessing the errors in a statistical estimation problem. They provide several advantages over the traditional parametric approach: the methods are easy to describe and they apply to arbitrarily complicated situations; distribution assumptions, such as normality, are never made"
</i>    
<p>This is a very matter of fact way of pointing out that the simple approach described here can be used to obtain the sampling distriubtion of almost anything, with very simple code, without the need for equations, assumptions or any maths at all.</p>
<p>It is virtually magic.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="bootstrap_samplingIntro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">7.3. </span>Sampling with and without replacement</p>
      </div>
    </a>
    <a class="right-next"
       href="bootstrap_TutorialExercises1.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7.6. </span>Tutorial Exercises</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">7.4. The bootstrap</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-python-libraries">Set up Python libraries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-sample-as-an-estimate-of-the-population">The sample as an estimate of the population</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-brexdex-data">Import the Brexdex data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">7.5. The Bootstrap</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sampling-distribution-of-the-mean">Sampling distribution of the mean</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sampling-from-a-sample">Sampling from a sample</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-converse">The converse</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#footnote">Footnote</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jill O'Reilly & Lindsay Richards
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>