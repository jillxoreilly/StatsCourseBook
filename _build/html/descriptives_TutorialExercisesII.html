

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2.11. Tutorial Exercises II - optional &#8212; Introduction to Statistics and Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'descriptives_TutorialExercisesII';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Plotting Data" href="plotting_intro.html" />
    <link rel="prev" title="2.9. Tutorial exercises I" href="descriptives_TutorialExercises.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/dice.jpg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/dice.jpg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="prepwork_intro.html">1. Preparatory Work</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="prepwork_datacamp.html">1.2. Datacamp</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_forloop.html">1.3. The <tt>for</tt> loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_diceroll_for.html">1.4. Rolling a virtual dice I</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_diceroll_while.html">1.5. Rolling a virtual dice II</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepwork_simExercises.html">1.6. Simulation Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="descriptives_intro.html">2. Describing data</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="descriptives_outcomes.html">2.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_conceptCheck.html">2.3. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_MeanAndMedian.html">2.4. Mean and Median</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_SDandIQR.html">2.5. Standard deviation and IQR</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_DataCleaning.html">2.6. Data cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_groupby.html">2.7. Grouping data</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_PythonCheck.html">2.8. Python skills check</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptives_TutorialExercises.html">2.9. Tutorial exercises I</a></li>

<li class="toctree-l2 current active"><a class="current reference internal" href="#">2.11. Tutorial Exercises II - optional</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="plotting_intro.html">3. Plotting Data</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="plotting_outcomes.html">3.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_histogram.html">3.3. Histogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_KDE.html">3.4. KDE plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_boxplot.html">3.5. Boxplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_scatterplot.html">3.6. Scatterplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_pandas.html">3.7. Plotting with Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_tweaks.html">3.8. Tweaking plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_additionalMaterials.html">3.9. More resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting_TutorialExercises.html">3.10. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="CorrCov_intro.html">4. Correlation and Covariance</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_outcomes.html">4.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_conceptCheck.html">4.3. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_introCorrCov.html">4.4. Covariance and Correlation</a></li>

<li class="toctree-l2"><a class="reference internal" href="CorrCov_ClimateExample.html">4.6. Climate example</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_Spearman.html">4.7. Spearman’s Rank Correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_PythonCheck.html">4.8. Python skills check</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_TutorialExercises.html">4.9. Tutorial Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="CorrCov_HandInAssignment.html">4.10. Hand-in Assignment</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="binomial_overallIntro.html">5. Data generating distributions</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="binomial_intro.html">5.1. The Binomial Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_objectives.html">5.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_singlecoin.html">5.3. Simulated coin toss</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_10000reps.html">5.4. Repeat the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_nandp.html">5.5. Changing $n$ and $p$</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_PMFandCDF.html">5.6. Binomial PMF and CDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_normal.html">5.7. Normal distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_PythonCheck.html">5.8. Python skills check</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_TutorialExercises1.html">5.9. Tutorial Exercises I</a></li>
<li class="toctree-l2"><a class="reference internal" href="binomial_TutorialExercises2.html">5.10. Tutorial Exercises II</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="CLT_intro.html">6. The Central Limit Theorem</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="CLT_outcomes.html">6.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="CLT_sampling.html">6.3. Central Limit Theorem</a></li>

<li class="toctree-l2"><a class="reference internal" href="CLT_CI.html">6.5. Estimating the sampling distribution <i>from a sample</i></a></li>

<li class="toctree-l2"><a class="reference internal" href="CLT_TutorialExercises.html">6.7. Tutorial exercises I: The Central Limit Theorem</a></li>


<li class="toctree-l2"><a class="reference internal" href="CLT_Tutorial2tdist.html">6.10. Tutorial Exercises II: the $t$ distribution</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="bootstrapping_intro.html">7. The Bootstrap</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="bootstrap_outcomes.html">7.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap_samplingIntro.html">7.3. Sampling with and without replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap_TheBootstrap.html">7.4. The bootstrap</a></li>

<li class="toctree-l2"><a class="reference internal" href="bootstrap_TutorialExercises1.html">7.6. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Assignment_intro.html">8. Christmas vacation assignment</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="IMDb_exercise.html">8.1. Movie data</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Cheatsheet_intro.html">9. Python Cheatsheet</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="coding_cheatsheet.html">9.1. Coding support sheet</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="permutation_intro.html">10. Permutation Testing</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="permutation_outcomes.html">10.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_technicalnote.html">10.3. Sort out <code class="docutils literal notranslate"><span class="pre">scipy.stats</span></code> version</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_paired.html">10.4. Permutation test for paired data</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_independentSamples.html">10.5. Permutation test for unpaired or independent samples data</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_correlation.html">10.6. Permutation test for correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_more.html">10.7. Permutation testing - more practice</a></li>
<li class="toctree-l2"><a class="reference internal" href="permutation_TutorialExercises.html">10.8. Tutorial exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="classictests_intro.html">11. Classic tests</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="ttest_intro.html">11.3. The t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttest_independentSamples.html">11.4. Independent samples t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttest_pairedSamples.html">11.5. Paired Samples t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="ttest_oneSample.html">11.6. One sample t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonpara_intro.html">11.7. Non-parametric equivalents of the t-test</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonpara_MannWhitneyU.html">11.8. The Mann Whitney U, or Wilcoxon Rank Sum Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonpara_WilcoxonSignRank.html">11.9. The Wilcoxon Sign-Rank Test</a></li>

<li class="toctree-l2"><a class="reference internal" href="ttest_furtherExercises.html">11.11. Tutorial Exercises: $t$-test and non-parametric equivalents</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="power_intro.html">12. Power analysis</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="power_outcomes.html">12.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_conceptCheck.html">12.3. Concepts Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_analysis.html">12.4. Sensitivity, power, reproducibility</a></li>




<li class="toctree-l2"><a class="reference internal" href="power_placeholder.html">12.9. Tutorial work and Hand in assignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="CSVreading_instructions.html">12.10. Loading data from a .csv file</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression1_intro.html">13. Regression</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression1_outcomes.html">13.1. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_concepts.html">13.2. Regression Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_interpretingSlope.html">13.3. Interpreting the slope and intercept, prediction and residuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_QandA.html">13.4. Regression, Covariance and Correlation Q&amp;A</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression1_prepwork.html">13.5. Regression models in Python</a></li>

<li class="toctree-l2"><a class="reference internal" href="regression1_TutorialExercises.html">13.7. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression2_intro.html">14. Multivariate Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression2_concepts.html">14.2. Multivariate Analysis Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression2_typesOfRelationship.html">14.3. Different types of multivariate relationship</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression2_QandA.html">14.4. Multiple Regression Q &amp; A</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression2_TutorialExercises.html">14.5. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression3_intro.html">15. Regression - Statistical Tests</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression3_outcomes.html">15.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_conceptsR2.html">15.3. Model fit: $R^2$</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_conceptsConditionals.html">15.4. Conditional Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_conceptsSignificance.html">15.5. Statistical Significance in Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_assumptions.html">15.6. Assumptions in Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression3_prepwork.html">15.7. Assessing Regression models in Python.</a></li>

<li class="toctree-l2"><a class="reference internal" href="regression3_TutorialExercises.html">15.9. Tutorial Exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression4_intro.html">16. ANOVA</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression4_outcomes.html">16.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_concepts.html">16.3. ANOVA Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_longhandExample.html">16.4. Longhand calculation example</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_equations.html">16.5. ANOVA Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_KWtest.html">16.6. Kruskall-Wallis test</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_ANOVAregression.html">16.7. ANOVA versus Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_prepwork.html">16.8. ANOVA and Kruskal-Wallis in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression4_TutorialExercises.html">16.9. Tutorial exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression5_intro.html">17. Logistic Regression</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression5_outcomes.html">17.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_concepts.html">17.3. Odds, logs and log odds</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_LogisticEquation.html">17.4. Logistic Regression Equation</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_workedExample.html">17.5. Predicted probabilities (worked example)</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_prepwork.html">17.6. Logistic Regression in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression5_TutorialExercises.html">17.7. Tutorial exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="regression6_intro.html">18. Research Design</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="regression6_outcomes.html">18.2. Learning Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression6_concepts.html">18.3. Research Design Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression6_causality.html">18.4. Causality</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression6_TutorialExercises.html">18.5. Tutorial exercises</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/jillxoreilly/StatsCourseBook/blob/master/descriptives_TutorialExercisesII.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jillxoreilly/StatsCourseBook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jillxoreilly/StatsCourseBook/issues/new?title=Issue%20on%20page%20%2Fdescriptives_TutorialExercisesII.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/descriptives_TutorialExercisesII.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tutorial Exercises II - optional</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-n-1">Why $(n-1)$?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introducing-i-estimators-i">Introducing <i>estimators</i></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#demonstration-by-simulation">Demonstration by Simulation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-python-libraries">Set up Python libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#population-data">Population data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-data">Sample data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulate-many-samples">Simulate many samples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#check-your-understanding-of-the-code">Check your understanding of the code</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#justifying-n-1">Justifying $n-1$</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vary-sample-size">Vary sample size</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hints">Hints</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="tutorial-exercises-ii-optional">
<h1><span class="section-number">2.11. </span>Tutorial Exercises II - optional<a class="headerlink" href="#tutorial-exercises-ii-optional" title="Permalink to this heading">#</a></h1>
<p>In this section we use our skills in creating <tt>for</tt> loops to investigate the properties of the mean and standard deviation</p>
<p>This material will not be assessed but is presented for your interest and understanding (and to practice some coding!)</p>
<p>You should only tackle it if you have plenty of time left in the tutorial after completing Tutorial Exercises I.</p>
<p>This exercise involves more coding than the rest of the exercises this week - in particular it involves <tt>for</tt> loops. You may want to review the material in chapter 1, ‘preparatory work’ to help you with this. If you didn’t get to do the ‘preparatory work’ yet, maybe just do that instead.</p>
<section id="why-n-1">
<h2>Why $(n-1)$?<a class="headerlink" href="#why-n-1" title="Permalink to this heading">#</a></h2>
<p>In the exercises and lecture this week, we calculated the mean and standard deviation of data.</p>
<p>A casual description of the variance ($s^2$, standard deviation squared) is that it is approximately the average squared deviation between datapoints and the mean - therefore to calculate it we:</p>
<ul>
    <li> calculate the difference between each data point and the mean
    <li> square those differences
    <li> add them all up
    <li> divide by the number of datapoints
</ul>
<p>That would suggest the following formula:</p>
<p>(1)</p>
<p>$$ s^2 = \sum{\frac{{(x_i - \bar{x})}^2}{n}} $$</p>
<p>But in fact the formula has $(n-1)$ on the bottom:</p>
<p>(2)</p>
<p>$$ s^2 = \sum{\frac{{(x_i - \bar{x})}^2}{n-1}} $$</p>
<p>Why? To understand this we first need to introduce the concept of <i>estimators</i></p>
</section>
<section id="introducing-i-estimators-i">
<h2>Introducing <i>estimators</i><a class="headerlink" href="#introducing-i-estimators-i" title="Permalink to this heading">#</a></h2>
<p>Typically, our dataset is a <i>sample</i> from a larger population and we want to use the mean and sd not so much to describe our sample, as to describe the (likely) properties of the population from which they are drawn.</p>
<p>The mean and sd as we have been calculating them are actually estimators of the population mean and sd (based on the sample) - <i>not</i> a straight description of the sample.</p>
<img src="https://raw.githubusercontent.com/jillxoreilly/StatsCourseBook/main/images/Minion_what.jpg" width=10% alt="What?!" >
<p>To illustrate the difference between the sd of the sample itself, and the sd of the population as estimated from the sample:</p>
<p>Say we measure the height of 10 men (this is a sample from a larger population with 20 million members). We are really interested in the characteristics of the population (the group of 20 million) - not just the 10 we happened to pick for our sample.</p>
<ol>
<li>To describe the <i>sample</i>, we calculate the mean of the sample and the spread (sd) of the sample members about the sample mean
<li>To describe the underlying <i>population</i>, we <i>estimate</i> the population mean, and estimate the spread (sd) of population members about the population mean
</ol>
<p>In case (2), we will use the sample mean and sample sd to help us estimate the population mean and population sd.</p>
<p>Let’s use simulation to find out what happens if we try to estimate the population standard deviation using the two different possible equations above, with either $n$ or $n-1$ on the bottom.</p>
</section>
<section id="demonstration-by-simulation">
<h2>Demonstration by Simulation<a class="headerlink" href="#demonstration-by-simulation" title="Permalink to this heading">#</a></h2>
<section id="set-up-python-libraries">
<h3>Set up Python libraries<a class="headerlink" href="#set-up-python-libraries" title="Permalink to this heading">#</a></h3>
<p>As usual, run the code cell below to import the relevant Python libraries</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set-up Python libraries - you need to run this but you don&#39;t need to change it</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">pandas</span> 
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="population-data">
<h3>Population data<a class="headerlink" href="#population-data" title="Permalink to this heading">#</a></h3>
<p>Let’s imagine that our population is all the men on the island of Shetland - about 10,000 people</p>
<img src="https://raw.githubusercontent.com/jillxoreilly/StatsCourseBook/main/images/Shetland.png" width="60%">
<p>I’m going to create a <tt>numpy</tt> array of 10,000 heights (these are simulated data but you could do this with real data from a survey if you had them)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">popHeights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">175</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>

<span class="c1"># Let&#39;s plot them</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">popHeights</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Height (cm)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0, &#39;Height (cm)&#39;)
</pre></div>
</div>
<img alt="_images/cb8b9d6df257bb277cf3e1afc00f88484f361cbda1ac752a386685f0e7078d70.png" src="_images/cb8b9d6df257bb277cf3e1afc00f88484f361cbda1ac752a386685f0e7078d70.png" />
</div>
</div>
<p>Since we have the whole population dataset here, we can work out the population mean and standard deviation directly:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mPop</span> <span class="o">=</span> <span class="n">popHeights</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">sdPop</span> <span class="o">=</span> <span class="n">popHeights</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;population mean = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mPop</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;population sd = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">sdPop</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>population mean = 175.1094178266492
population sd = 7.10851500877297
</pre></div>
</div>
</div>
</div>
</section>
<section id="sample-data">
<h3>Sample data<a class="headerlink" href="#sample-data" title="Permalink to this heading">#</a></h3>
<p>Now let’s imagine that we <i>don’t</i> have access to the heights of every single man in the population of Shetland, but instead we measure a random sample of 10 men.</p>
<p>We can <i>simulate</i> this by picking 10 values at random from our array of population heights (which is a virtual version of picking 10 random men off the street in Shetland) using the function <tt>np.random</tt></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># let&#39;s call our sample &#39;x&#39;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">popHeights</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[168.50114151 172.94474047 156.02052468 171.88053982 167.40166564
 183.55056417 175.40347142 174.9195068  185.02639425 174.84473845]
</pre></div>
</div>
</div>
</div>
<p>Let’s calculate the mean and standard deviation of the sample - because we are going to try out different equations, we will not use the built in functions <tt>mean</tt> and <tt>std</tt> but instead enter the equations ourselves.</p>
<p>Remember that the symbol ** means ‘power’ - so 3**2 means $3^2$</p>
<p>Remember also that $n^\frac{1}{2} = \sqrt{n}$ so for example 4**0.5 = $\sqrt{4}$ = 2</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span><span class="o">=</span><span class="mi">10</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">popHeights</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># if you are stuck you can find the answer at the bottom of the page</span>
<span class="n">m</span> <span class="o">=</span> <span class="c1"># your code here for the mean</span>
<span class="n">s1</span> <span class="o">=</span> <span class="c1"># your code here for the s.d. with n on the bottom</span>
<span class="n">s2</span> <span class="o">=</span> <span class="c1"># your code here for the s.d. with n-1 on the bottom</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mean = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sd (with n on the bottom) = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">s1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sd (with n-1 on the bottom) = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">s2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">5</span>
    <span class="n">m</span> <span class="o">=</span> <span class="c1"># your code here for the mean</span>
        <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax
</pre></div>
</div>
</div>
</div>
<p>If you run the cell above a few times you will notice a couple of things:
<ul>
<li> The value for sd with n on the bottom is always lower
<li> The estimates of the mean and sd are pretty variable across samples!
</ul></p>
</section>
<section id="simulate-many-samples">
<h3>Simulate many samples<a class="headerlink" href="#simulate-many-samples" title="Permalink to this heading">#</a></h3>
<p>To establish which equation for the sd gives a better match for the population sd (calculated from the whole population of 10,000 men), we are going to need to draw a lot of samples and get the average value for the standard deviation:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nSamples</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="c1"># create empty arrays to store the result of the simulation</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">....</span><span class="p">):</span>
    <span class="c1"># build the loop yourself!</span>
    <span class="c1"># if you are stuck you can find the answer at the bottom of the page</span>
    
    
<span class="c1"># print the results of the simulation    </span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mean value of the mean is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">m</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mean value of sd with n on the bottom is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">s1</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;mean value of sd with n-1 on the bottom is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">s2</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="c1"># blank line</span>

<span class="c1"># and a reminder:</span>
<span class="n">mPop</span> <span class="o">=</span> <span class="n">popHeights</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">sdPop</span> <span class="o">=</span> <span class="n">popHeights</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;population mean = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mPop</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;population sd = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">sdPop</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>mean value of the mean is 174.87163049278854
mean value of sd with n on the bottom is 6.474290353743315
mean value of sd with n-1 on the bottom is 6.82450125036204
 
population mean = 174.88960457679235
population sd = 7.005912927563505
</pre></div>
</div>
</div>
</div>
<p>It looks like the version with $n-1$ gets us closer to the the true standard deviation (although it is still not perfect).</p>
<section id="check-your-understanding-of-the-code">
<h4>Check your understanding of the code<a class="headerlink" href="#check-your-understanding-of-the-code" title="Permalink to this heading">#</a></h4>
<ul>
    <li> What is stored in <tt>s1</tt> and <tt>s2</tt>.
    <li> What does the line <tt>s1 = np.empty(nSamples)</tt> do and why is it necessary?
    <li> What was <tt>popHeights</tt> again?
</ul>
</section>
</section>
<section id="justifying-n-1">
<h3>Justifying $n-1$<a class="headerlink" href="#justifying-n-1" title="Permalink to this heading">#</a></h3>
<p>If we calculate the standard deviation of the sample as we might naively (with $n$ rather than $n-1$ on the bottom), we would systematically underestimate the standard deviation of the population. This bias is worse when the sample size is small.</p>
<p>To get a sense why this is, look at the diagram below.</p>
<img src="https://raw.githubusercontent.com/jillxoreilly/StatsCourseBook/main/images/sdVersions.png" width="75%" >
<p>When calculating the standard deviation from our sample, we look at the deviations of the datapoints about our estimate of the mean, $\bar{x}$.</p>
<p>Now, $\bar{x}$ is calculated from the sample itself (and as it happens, the formula for the mean minimizes the squared devations $\sum{{(x_i - \bar{x})}^2}$) - so there is no possible value of the mean that could result in a lower set of deviations.</p>
<p>Therefore if we knew the true population mean $\mu$ (which is similar to $\bar{x}$ but won’t be exactly the same), and could calculate the deviations about it $\sum{(x_i - \mu)^2}$ we would certainly get a higher value for the standard deviation.</p>
<p>The reason the bias is worse for smaller samples is because the value of $\bar{s}$ is more swayed by the particular values in the sample $x$ when $n$ is small.</p>
</section>
<section id="vary-sample-size">
<h3>Vary sample size<a class="headerlink" href="#vary-sample-size" title="Permalink to this heading">#</a></h3>
<p>To examine the claim that the underestimation of the population standard deviation is worse when $n$ is small (for the sd formula with $n$ on the bottom), lets try simulating samples with different values of n.</p>
<p>This is a double loop - I’m not expecting you to build this yourself but if you are keen you could try to follow through the logic:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nSamples</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="c1"># create empty arrays to store the result of the simulation each of nSamples</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>

<span class="c1"># values of n to try</span>
<span class="n">nVals</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>
<span class="c1"># create some more empty arrays to store the average values </span>
<span class="c1"># of m, s1, s2 for each value of n that we will try</span>
<span class="n">m_n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nVals</span><span class="p">))</span>
<span class="n">s1_n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nVals</span><span class="p">))</span>
<span class="n">s2_n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nVals</span><span class="p">))</span>



<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nVals</span><span class="p">)):</span>
    <span class="n">n</span><span class="o">=</span><span class="n">nVals</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nSamples</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">popHeights</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">n</span>
        <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
        <span class="n">s2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span>

    <span class="n">m_n</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
    <span class="n">s1_n</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
    <span class="n">s2_n</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>

    
    
<span class="c1"># Plot the results</span>
<span class="c1"># Don&#39;t worry about this - we are covering plotting next week</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">nVals</span><span class="p">,</span><span class="n">s1_n</span><span class="p">,</span><span class="s1">&#39;b.-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">nVals</span><span class="p">,</span><span class="n">s2_n</span><span class="p">,</span><span class="s1">&#39;r.-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span> <span class="o">=</span> <span class="n">popHeights</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span> <span class="c1"># plot the actual population sd as lback dotted line</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$n$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;estimated pop. standard deviation&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;using $n$&#39;</span><span class="p">,</span><span class="s1">&#39;using $n-1$&#39;</span><span class="p">,</span><span class="s1">&#39;actual population sd&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7fa8e2b38ee0&gt;
</pre></div>
</div>
<img alt="_images/cfcd73706cefcda52762b844a2c4987a63abd5069bbb8ea7b0ab23bb29845f4a.png" src="_images/cfcd73706cefcda52762b844a2c4987a63abd5069bbb8ea7b0ab23bb29845f4a.png" />
</div>
</div>
<p>We can see that:</p>
<ul>
    <li>the underestimation bias is greater for smaller sample size
    <li> the bias is reduced, but not eliminated, for the $n-1$ version
</ul>
<p>In fact there is no simple solution to correct the bias completely when estimating the population standard deviation.</p>
</section>
<section id="hints">
<h3>Hints<a class="headerlink" href="#hints" title="Permalink to this heading">#</a></h3>
<p>Here are the missing bits of code - you are welcome to copy-paste them but once you have, I’d suggest trying to work through them (with your tutor if helpful) and then try to recreate from memory as in coding, you learn by doing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># formulae for mean and standard deviation</span>
<span class="n">m</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">n</span> <span class="c1"># mean</span>
<span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">m</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span> <span class="c1"># s.d. with n on the bottom</span>
<span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">m</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span> <span class="c1"># s.d. with n-1 on the bottom</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for loop to try 1000 samples of size n</span>

<span class="n">nSamples</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="c1"># create empty arrays to store the result of the simulation</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">nSamples</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nSamples</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">popHeights</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">n</span>
    <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
    <span class="n">s2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nb">sum</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="descriptives_TutorialExercises.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2.9. </span>Tutorial exercises I</p>
      </div>
    </a>
    <a class="right-next"
       href="plotting_intro.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Plotting Data</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-n-1">Why $(n-1)$?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introducing-i-estimators-i">Introducing <i>estimators</i></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#demonstration-by-simulation">Demonstration by Simulation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-python-libraries">Set up Python libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#population-data">Population data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-data">Sample data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simulate-many-samples">Simulate many samples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#check-your-understanding-of-the-code">Check your understanding of the code</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#justifying-n-1">Justifying $n-1$</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vary-sample-size">Vary sample size</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hints">Hints</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jill O'Reilly & Lindsay Richards
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>